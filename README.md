# 43X Automation Tester

> åŸºäº Chrome æ’ä»¶å’Œ Python Agent çš„ 43X æŠ•èµ„è¯„ä¼°è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![Chrome](https://img.shields.io/badge/chrome-extension-green.svg)](https://developer.chrome.com/docs/extensions/)

## ğŸ“– é¡¹ç›®ç®€ä»‹

43X Automation Tester æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œç”¨äºæµ‹è¯• 43X æŠ•èµ„ Agent çš„å¯¹è¯å’Œè¯„ä¼°èƒ½åŠ›ã€‚é€šè¿‡ Chrome æ’ä»¶å’Œ Python Agent Service çš„é…åˆï¼Œå®ç°ï¼š

- ğŸ¤– **è‡ªåŠ¨åŒ–å¯¹è¯æµ‹è¯•** - æ¨¡æ‹ŸçœŸå®çš„æŠ•èµ„è¯„ä¼°å¯¹è¯æµç¨‹
- ğŸ“Š **å¤šåœºæ™¯æµ‹è¯•** - æ”¯æŒä¸åŒè¡Œä¸šã€é˜¶æ®µçš„åˆ›ä¸šé¡¹ç›®åœºæ™¯
- ğŸ“ˆ **å®æ—¶ç›‘æ§** - å®æ—¶æ˜¾ç¤ºæµ‹è¯•è¿›åº¦ã€è½®æ¬¡ã€çŠ¶æ€
- ğŸ“ **æ—¥å¿—è®°å½•** - å®Œæ•´è®°å½•æµ‹è¯•è¿‡ç¨‹å’Œç»“æœ
- âš™ï¸ **çµæ´»é…ç½®** - æ”¯æŒè‡ªå®šä¹‰æµ‹è¯•å‚æ•°å’Œåœºæ™¯

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Chrome Extension                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Popup UI    â”‚  â”‚   Content    â”‚  â”‚  Background  â”‚      â”‚
â”‚  â”‚  (ç”¨æˆ·ç•Œé¢)   â”‚  â”‚   Script     â”‚  â”‚   Service    â”‚      â”‚
â”‚  â”‚              â”‚  â”‚  (DOMç›‘å¬)    â”‚  â”‚   Worker     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                 â”‚                  â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                  â”‚
          â”‚                 â”‚                  â”‚ HTTP API
          â”‚                 â”‚                  â–¼
          â”‚                 â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                 â”‚         â”‚  Python Agent   â”‚
          â”‚                 â”‚         â”‚    Service      â”‚
          â”‚                 â”‚         â”‚  (FastAPI)      â”‚
          â”‚                 â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                  â”‚
          â”‚                 â”‚                  â–¼
          â”‚                 â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                 â”‚         â”‚ Entrepreneur    â”‚
          â”‚                 â”‚         â”‚     Agent       â”‚
          â”‚                 â”‚         â”‚  (Google ADK)   â”‚
          â”‚                 â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚
          â”‚                 â–¼
          â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚         â”‚   43X Web App   â”‚
          â”‚         â”‚  (localhost:3000)â”‚
          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  User Actions   â”‚
    â”‚  (ä¸Šä¼ /é…ç½®/æ§åˆ¶) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Python**: 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- **uv**: Python åŒ…ç®¡ç†å™¨ï¼ˆæ¨èï¼‰
- **Chrome**: æœ€æ–°ç‰ˆæœ¬
- **LLM API Key**: OpenRouter æˆ– OpenAI

### ä¸€é”®å¯åŠ¨ï¼ˆWindowsï¼‰

```bash
# 1. å®‰è£… uvï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"

# 2. åˆå§‹åŒ–é¡¹ç›®
uv sync

# 3. é…ç½® API Key
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Key

# 4. å¯åŠ¨æœåŠ¡
start.bat
# æˆ–ä½¿ç”¨ PowerShell: .\start.ps1
```

### æ‰‹åŠ¨å¯åŠ¨

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
uv sync

# 2. é…ç½®ç¯å¢ƒå˜é‡
copy .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½® LLM_API_KEY

# 3. å¯åŠ¨æœåŠ¡
uv run python -m automation_tester.entrepreneur_agent_service

# 4. éªŒè¯æœåŠ¡
# æµè§ˆå™¨è®¿é—®: http://localhost:8001/health
```

### å®‰è£… Chrome æ’ä»¶

1. æ‰“å¼€ Chrome æµè§ˆå™¨
2. è®¿é—® `chrome://extensions/`
3. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. **é€‰æ‹© `chrome-extension` ç›®å½•**ï¼ˆä¸æ˜¯ icons å­ç›®å½•ï¼‰

### å¼€å§‹æµ‹è¯•

1. è®¿é—® 43X æ·±è¯„é¡µé¢
2. ç‚¹å‡» Chrome æ’ä»¶å›¾æ ‡
3. ä¸Šä¼ åœºæ™¯é…ç½®æˆ–ä½¿ç”¨ç¤ºä¾‹
4. ç‚¹å‡»"å¼€å§‹æµ‹è¯•"
5. è§‚å¯Ÿè‡ªåŠ¨åŒ–æµ‹è¯•è¿‡ç¨‹

> ğŸ’¡ **æç¤º**: è¯¦ç»†å¯åŠ¨è¯´æ˜è¯·æŸ¥çœ‹ [START_GUIDE.md](START_GUIDE.md)  
> ğŸ”§ **é‡åˆ°é—®é¢˜ï¼Ÿ** æŸ¥çœ‹ [TROUBLESHOOTING.md](TROUBLESHOOTING.md)

## ğŸ“ é¡¹ç›®ç»“æ„

```
43x-automation-tester/
â”œâ”€â”€ automation_tester/          # Python åŒ…
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ entrepreneur_agent.py  # åˆ›ä¸šè€… Agent
â”‚   â”œâ”€â”€ entrepreneur_agent_service.py  # FastAPI æœåŠ¡
â”‚   â”œâ”€â”€ scenario_loader.py     # åœºæ™¯åŠ è½½å™¨
â”‚   â”œâ”€â”€ logging_config.py      # æ—¥å¿—é…ç½®
â”‚   â””â”€â”€ utils/                 # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ adk_config.py      # ADK é…ç½®
â”‚       â””â”€â”€ message.py         # æ¶ˆæ¯æ„å»º
â”‚
â”œâ”€â”€ chrome-extension/           # Chrome æ’ä»¶
â”‚   â”œâ”€â”€ manifest.json
â”‚   â”œâ”€â”€ background.js
â”‚   â”œâ”€â”€ content.js
â”‚   â”œâ”€â”€ popup.html/js/css
â”‚   â”œâ”€â”€ settings.html/js/css
â”‚   â””â”€â”€ icons/
â”‚
â”œâ”€â”€ scenarios/                  # ç¤ºä¾‹åœºæ™¯
â”‚   â”œâ”€â”€ ai_saas_pass.json
â”‚   â”œâ”€â”€ hardware_reject.json
â”‚   â”œâ”€â”€ medical_ai_edge.json
â”‚   â””â”€â”€ SCENARIOS_GUIDE.md
â”‚
â”œâ”€â”€ scripts/                    # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ start_service.py       # å¯åŠ¨æœåŠ¡
â”‚   â””â”€â”€ package_extension.py   # æ‰“åŒ…æ’ä»¶
â”‚
â”œâ”€â”€ logs/                       # æ—¥å¿—ç›®å½•
â”‚
â”œâ”€â”€ requirements.txt            # Python ä¾èµ–
â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore
â”œâ”€â”€ LICENSE
â””â”€â”€ README.md
```

## ğŸ“ ä½¿ç”¨æŒ‡å—

### åˆ›å»ºæµ‹è¯•åœºæ™¯

#### 1. ä½¿ç”¨ç¤ºä¾‹åœºæ™¯

ç‚¹å‡»æ’ä»¶ä¸­çš„"ğŸ“¥ ä¸‹è½½ç¤ºä¾‹"æŒ‰é’®ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½ä¸‰ä¸ªç¤ºä¾‹åœºæ™¯ï¼š

- **ai_saas_pass.json** - AI SaaS å…¬å¸ï¼ˆé¢„æœŸé€šè¿‡ï¼‰
- **hardware_reject.json** - ç¡¬ä»¶åˆ›ä¸šï¼ˆé¢„æœŸæ‹’ç»ï¼‰
- **medical_ai_edge.json** - åŒ»ç–— AIï¼ˆè¾¹ç•Œæ¡ˆä¾‹ï¼‰

#### 2. è‡ªå®šä¹‰åœºæ™¯

åˆ›å»º JSON é…ç½®æ–‡ä»¶ï¼š

```json
{
  "scenario_name": "my_scenario",
  "company_name": "æˆ‘çš„å…¬å¸",
  "industry": "è¡Œä¸šåˆ†ç±»",
  "product": "äº§å“æè¿°",
  "revenue": "è¥æ”¶æƒ…å†µ",
  "team": "å›¢é˜Ÿä¿¡æ¯",
  "funding_need": "èèµ„éœ€æ±‚",
  "expected_result": "passed"
}
```

**å¿…å¡«å­—æ®µ**:
- `scenario_name` - åœºæ™¯åç§°
- `company_name` - å…¬å¸åç§°

### é…ç½®æµ‹è¯•å‚æ•°

ç‚¹å‡»"âš™ï¸ è®¾ç½®"æŒ‰é’®ï¼Œå¯ä»¥é…ç½®ï¼š

- **Agent Service URL** - Python æœåŠ¡åœ°å€
- **æœ€å¤§å¯¹è¯è½®æ¬¡** - è¶…è¿‡æ­¤è½®æ¬¡è‡ªåŠ¨ç»ˆæ­¢
- **è‡ªåŠ¨è¾“å…¥å»¶è¿Ÿ** - è¾“å…¥å‰ç­‰å¾…æ—¶é—´
- **æ¶ˆæ¯æ£€æµ‹è¶…æ—¶** - ç­‰å¾…æ–°æ¶ˆæ¯çš„æœ€é•¿æ—¶é—´
- **è‡ªåŠ¨é‡è¯•** - å¤±è´¥æ—¶æ˜¯å¦è‡ªåŠ¨é‡è¯•
- **è°ƒè¯•æ¨¡å¼** - è¾“å‡ºè¯¦ç»†æ—¥å¿—

### æŸ¥çœ‹æµ‹è¯•ç»“æœ

æµ‹è¯•å®Œæˆåï¼š

1. **å®æ—¶è¿›åº¦** - æ˜¾ç¤ºå½“å‰è½®æ¬¡ã€é˜¶æ®µã€è€—æ—¶
2. **æœ€ç»ˆç»“æœ** - æ˜¾ç¤ºæµ‹è¯•ç»“æœå’Œç»Ÿè®¡ä¿¡æ¯
3. **æ—¥å¿—è®°å½•** - ç‚¹å‡»"ğŸ“„ æŸ¥çœ‹æ—¥å¿—"æŸ¥çœ‹è¯¦ç»†è®°å½•
4. **å¯¼å‡ºæ•°æ®** - å¯ä»¥å¯¼å‡ºæ—¥å¿—ä¸º JSON æ ¼å¼

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ | å¿…å¡« |
|--------|------|--------|------|
| `LLM_MODEL` | LLM æ¨¡å‹åç§° | `gpt-4` | å¦ |
| `LLM_BASE_URL` | LLM API åœ°å€ | `https://api.openai.com/v1` | å¦ |
| `LLM_API_KEY` | LLM API å¯†é’¥ | - | âœ… æ˜¯ |
| `AGENT_SERVICE_PORT` | æœåŠ¡ç«¯å£ | `8001` | å¦ |
| `APP_ENV` | è¿è¡Œç¯å¢ƒ | `dev` | å¦ |
| `APP_LOG_LEVEL` | æ—¥å¿—çº§åˆ« | `INFO` | å¦ |

### API ç«¯ç‚¹

#### POST /api/test/start
å¯åŠ¨æµ‹è¯•ï¼Œåˆ›å»º Agent å®ä¾‹

#### POST /api/test/answer
è·å– Agent å›ç­”

#### POST /api/test/stop
åœæ­¢æµ‹è¯•ï¼Œæ¸…ç†èµ„æº

#### GET /health
å¥åº·æ£€æŸ¥

è¯¦ç»† API æ–‡æ¡£ï¼šå¯åŠ¨æœåŠ¡åè®¿é—® `http://localhost:8001/docs`

## ğŸ› æ•…éšœæ’æŸ¥

### Agent Service è¿æ¥å¤±è´¥

**é—®é¢˜**: Chrome æ’ä»¶æ˜¾ç¤º"Agent Service æœªè¿æ¥"

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤ Python æœåŠ¡å·²å¯åŠ¨
2. æ£€æŸ¥ç«¯å£ 8001 æ˜¯å¦è¢«å ç”¨
3. éªŒè¯ `.env` é…ç½®æ­£ç¡®
4. æŸ¥çœ‹æœåŠ¡æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯

### æµ‹è¯•æ— æ³•å¯åŠ¨

**é—®é¢˜**: ç‚¹å‡»"å¼€å§‹æµ‹è¯•"æ²¡æœ‰ååº”

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤å·²ä¸Šä¼ åœºæ™¯é…ç½®
2. æ£€æŸ¥æ˜¯å¦åœ¨ 43X å¯¹è¯é¡µé¢
3. æ‰“å¼€ Chrome å¼€å‘è€…å·¥å…·æŸ¥çœ‹é”™è¯¯
4. éªŒè¯ Content Script æ˜¯å¦æ­£ç¡®æ³¨å…¥

### LLM API è°ƒç”¨å¤±è´¥

**é—®é¢˜**: Agent æ— æ³•ç”Ÿæˆå›ç­”

**è§£å†³æ–¹æ¡ˆ**:
1. éªŒè¯ `LLM_API_KEY` æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥ API é…é¢æ˜¯å¦ç”¨å®Œ
3. æŸ¥çœ‹ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
4. æ£€æŸ¥ API åœ°å€æ˜¯å¦æ­£ç¡®

æ›´å¤šé—®é¢˜è¯·æŸ¥çœ‹ [æ•…éšœæ’æŸ¥æ–‡æ¡£](docs/TROUBLESHOOTING.md)

## ğŸ“š æ–‡æ¡£

- [å¯åŠ¨æŒ‡å—](START_GUIDE.md) - è¯¦ç»†å¯åŠ¨è¯´æ˜
- [æ•…éšœæ’æŸ¥](TROUBLESHOOTING.md) - å¸¸è§é—®é¢˜è§£å†³
- [åœºæ™¯è¯´æ˜](scenarios/SCENARIOS_GUIDE.md) - åœºæ™¯è®¾è®¡æŒ‡å—
- [Chrome æ’ä»¶](chrome-extension/README.md) - æ’ä»¶ä½¿ç”¨è¯´æ˜

## ğŸ§ª æµ‹è¯•

```bash
# æµ‹è¯•åŒ…å¯¼å…¥
uv run python scripts/test_import.py

# æµ‹è¯•ç¯å¢ƒé…ç½®
uv run python scripts/test_env.py

# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:8001/health
```

## ğŸ¨ ä»£ç è§„èŒƒ

æœ¬é¡¹ç›®ä½¿ç”¨ **ruff** å’Œ **mypy** ç¡®ä¿ä»£ç è´¨é‡ã€‚

```bash
# ä»£ç æ ¼å¼åŒ–
uv run ruff format automation_tester/ scripts/

# ä»£ç æ£€æŸ¥
uv run ruff check automation_tester/ scripts/

# è‡ªåŠ¨ä¿®å¤
uv run ruff check automation_tester/ scripts/ --fix

# ç±»å‹æ£€æŸ¥
uv run mypy automation_tester/ scripts/
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

### è´¡çŒ®åœºæ™¯

1. åˆ›å»ºæ–°çš„åœºæ™¯ JSON æ–‡ä»¶
2. ç¡®ä¿åŒ…å«å¿…å¡«å­—æ®µ
3. æ·»åŠ åœºæ™¯è¯´æ˜
4. æäº¤ Pull Request

### æŠ¥å‘Šé—®é¢˜

1. åœ¨ Issues ä¸­æè¿°é—®é¢˜
2. æä¾›å¤ç°æ­¥éª¤
3. é™„ä¸Šé”™è¯¯æ—¥å¿—
4. è¯´æ˜ç¯å¢ƒä¿¡æ¯

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [Google ADK](https://github.com/google/adk) - Agent å¼€å‘æ¡†æ¶
- [FastAPI](https://fastapi.tiangolo.com/) - Python Web æ¡†æ¶
- [Chrome Extensions](https://developer.chrome.com/docs/extensions/) - æµè§ˆå™¨æ‰©å±• API

## ğŸ“ è”ç³»æ–¹å¼

- **Issues**: [GitHub Issues](https://github.com/your-repo/issues)
- **Email**: your-email@example.com

---

**Happy Testing!** ğŸš€
